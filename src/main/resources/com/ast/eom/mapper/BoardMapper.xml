<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ast.eom.dao.BoardDao">

	<!-- 컬럼 이름과 자바 객체의 프로퍼티 이름을 연결한다. -->
	<resultMap type="Board" id="BoardMap">
		<id column="board_no" property="no" />
		<result column="board_type_no" property="type_no" />
		<result column="mem_no" property="member_no" />
		<result column="titl" property="title" />
    <result column="conts" property="contents" />
    <result column="cdt" property="createdDate" />
		<result column="vw_cnt" property="view_count" />
	</resultMap>

	<select id="findAll" resultMap="BoardMap">
		select b.board_no, b.titl, b.mem_no, b.vw_cnt
		from board b
		inner join member m on b.mem_no = m.mem_no;
	</select>

	<select id="findBy" parameterType="int" resultMap="BoardMap">
		select
		no,
		conts 
		from board 
		where no=#{haha}
	</select>

	<insert id="insert" parameterType="Board">
		insert into board(conts)
		values(#{contents})
	</insert>
	
	<update id="update" parameterType="Board">
    update board set
      conts=#{contents}
    where no=#{no}
  </update>
  
  <delete id="delete" parameterType="int">
    delete from board
    where no=#{value}
  </delete>

</mapper>